# RFC3875 - The Common Gateway Interface

## Basic Rules

```
alpha         = lowalpha | hialpha
lowalpha      = "a" | "b" | "c" | "d" | "e" | "f" | "g" | "h" |
                "i" | "j" | "k" | "l" | "m" | "n" | "o" | "p" |
                "q" | "r" | "s" | "t" | "u" | "v" | "w" | "x" |
                "y" | "z"
hialpha       = "A" | "B" | "C" | "D" | "E" | "F" | "G" | "H" |
                "I" | "J" | "K" | "L" | "M" | "N" | "O" | "P" |
                "Q" | "R" | "S" | "T" | "U" | "V" | "W" | "X" |
                "Y" | "Z"
digit         = "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9"
alphanum      = alpha | digit
OCTET         = <any 8-bit byte>
CHAR          = alpha | digit | separator | "!" | "#" | "$" |
                "%" | "&" | "’" | "*" | "+" | "-" | "." | "‘" |
                "^" | "_" | "{" | "|" | "}" | "˜" | CTL
CTL           = <any control character>
SP            = <space character>
HT            = <horizontal tab character>
NL            = <newline>
LWSP          = SP | HT | NL
separator     = "(" | ")" | "<" | ">" | "@" | "," | ";" | ":" |
                "\" | <"> | "/" | "[" | "]" | "?" | "=" | "{" |
                "}" | SP | HT
token         = 1*<any CHAR except CTLs or separators>
quoted-string = <"> *qdtext <">
qdtext        = <any CHAR except <"> and CTLs
reserved      = ";" | "/" | "?" | ":" | "@" | "&" | "=" | "+" | "$" |
                "," | "[" | "]"
hex           = digit | "A" | "B" | "C" | "D" | "E" | "F" | "a" | "b"
                | "c" | "d" | "e" | "f"
escaped       = "%" hex hex
unreserved    = alpha | digit | mark
mark          = "-" | "_" | "." | "!" | "˜" | "*" | "’" | "(" | ")"
```

## Script Selection
The server determines which CGI is script to be executed based on a generic-form URI supplied by the client. The remainder of the path, if any, is a resource or sub-resource identifier to be interpreted by the script as meta-variable (`= <extra-path>`).

## The Script-URI
The Script-URI has the structure of a generic URI:
```
script-URI = <scheme> "://" <server-name> ":" <server-port>
             <script-path> <extra-path> "?" <query-string>
```
where `<scheme>` is found from SERVER_PROTOCOL, `<server-name>`,
`<server-port>` and `<query-string>` are the values of the respective
meta-variables.

# The CGI Request
Information about a request comes from two different sources; the request meta-variables and any associated message-body.
## Request Meta-Variables


```
meta-variable-name  = "AUTH_TYPE"       | "CONTENT_LENGTH"    |
                      "CONTENT_TYPE"    | "GATEWAY_INTERFACE" |
                      "PATH_INFO"       | "PATH_TRANSLATED"   |
                      "QUERY_STRING"    | "REMOTE_ADDR"       |
                      "REMOTE_HOST"     | "REMOTE_IDENT"      |
                      "REMOTE_USER"     | "REQUEST_METHOD"    |
                      "SCRIPT_NAME"     | "SERVER_NAME"       |
                      "SERVER_PORT"     | "SERVER_PROTOCOL"   |
                      "SERVER_SOFTWARE" | scheme              |
                      protocol-var-name | extension-var-name
protocol-var-name   = ( protocol | scheme ) "_" var-name
scheme              = alpha *( alpha | digit | "+" | "-" | "." )
var-name            = token
extension-var-name  = token
meta-variable-value = "" | 1*<TEXT, CHAR or tokens of value>
```
- **Meta-variables are identified by case-insensitive names.**
- **Meta-variable values MUST be considered case-sensitive except as noted otherwise.**
- This specification does not distinguish between zero-length (NULL) values and missing values.  
For example, a script cannot distinguish between the two requests `http://host/script` and `http://host/script?` as in both cases the `QUERY_STRING` meta-variable would be NULL.

### AUTH_TYPE
The AUTH_TYPE variable identifies any mechanism used by the server to authenticate the user.
> **NOT REQUIRED BY THE SUBJECT**

### CONTENT_LENGTH
The size of the message-body attached to the request, if any, in decimal number of octets. If no data is attached, then NULL (or unset).  
The server MUST set this meta-variable if and only if the request is accompanied by a message-body.

### CONTENT_TYPE
If the request includes a message-body, the CONTENT_TYPE variable is set to the Internet Media Type of the message-body

```
CONTENT_TYPE = "" | media-type
media-type   = type "/" subtype *( ";" parameter )
type         = token
subtype      = token
parameter    = attribute "=" value
attribute    = token
value        = token | quoted-string
```
- The type, subtype and parameter attribute names are not case-sensitive.
- Parameter values may be case sensitive.
- There is no default value for this variable. If and only if it is unset, then the script MAY attempt to determine the media type from the data received.
- **The server MUST set this meta-variable if an HTTP Content-Type field is present in the client request header, otherwise it should omit this meta-variable.**

### GATEWAY_INTERFACE
RFC3875 defines the 1.1 version of the CGI interface.
> `GATEWAY_INTERFACE = CGI/1.1`

### PATH_INFO
- The PATH_INFO variable is derived from the portion of the URI path hierarchy following the part that identifies the script itself.
- the PATH_INFO is not URL-encoded.
- **case-sensitive and the server MUST preserve the case of the path as presented in the request URI.**
- The server MAY impose restrictions and limitations and MAY reject the request with an error.
- PATH_INFO string forms the extra-path component of the Script-URI

### PATH_TRANSLATED
